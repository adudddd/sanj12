<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Message Flower Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Charm&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #fce4ec;
            font-family: 'Charm', cursive;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #envelope {
            width: 300px;
            height: 200px;
            background-color: #f8bbd0;
            position: relative;
            cursor: pointer;
            border: 2px solid #c48b9f;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            transition: all 0.5s ease;
        }
        #stamp {
            width: 80px;
            height: 80px;
            background-color: #ff4081;
            position: absolute;
            top: 10px;
            right: 10px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #ffffff;
            font-weight: bold;
            font-size: 12px;
            text-align: center;
            line-height: 1.2;
            padding: 5px;
        }
        #envelope-content {
            display: none;
            text-align: center;
            padding: 20px;
            font-size: 24px;
        }
        .flower {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #game-container {
            display: none;
            width: 100vw;
            height: 100vh;
        }
        #game-info {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(255, 255, 255, 0.7);
            padding: 10px;
            border-radius: 5px;
            font-size: 18px;
        }
        #message-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            display: none;
            z-index: 1000;
            font-size: 24px;
            text-align: center;
        }
        #heart-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            display: none;
        }
        .heart-flower {
            position: absolute;
            transition: all 1s ease;
        }
        #final-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            text-align: center;
            display: none;
            z-index: 1001;
            color: #ff1493;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        button {
            font-family: 'Charm', cursive;
            font-size: 20px;
            padding: 10px 20px;
            background-color: #ff4081;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="envelope">
        <div id="stamp">Secret message for you BC</div>
    </div>
    <div id="envelope-content">
        <h2>From Shivi</h2>
        <h2>To My sanju</h2>
        <button id="start-game">Start Game</button>
    </div>
    <div id="game-container">
        <div id="game-info">
            <div>Messages Left: <span id="messages-left">16</span></div>
        </div>
    </div>
    <div id="message-popup"></div>
    <div id="heart-container"></div>
    <div id="final-message"></div>

    <script>
        const envelope = document.getElementById('envelope');
        const envelopeContent = document.getElementById('envelope-content');
        const gameContainer = document.getElementById('game-container');
        const startGameButton = document.getElementById('start-game');
        const messagesLeftDisplay = document.getElementById('messages-left');
        const messagePopup = document.getElementById('message-popup');
        const finalMessage = document.getElementById('final-message');
        const heartContainer = document.getElementById('heart-container');

        let flowers = [];
        let gameInProgress = false;
        let messagesLeft = 16;

        const messages = [
            "Sanju get well supersoon",
            "First case uss bsdk doc ka licence cancel karwaoo",
            "tum JUDGE bnhaooge bcoz bhut log ko jail meine daalna h",
            "Next saath meine Bunjee jumping or rafting krne h",
            "Take me on trip and our mummies too",
            "U are precious",
            "I want to eat you from your hands or I miss your lunch special soya rice and chowmein",
            "Ur ass needs my spanks",
            "Sorry I have been not there when u needed me",
            "I promise to be a good child to my mommy bff",
            "I promise I will never leave you",
            "our children needs to be sent in same school",
            "I don't want to loose u",
            "Tattoo banwao injection nhi inject karwao BC",
            "Ek thappad khaoge immunity strong ho jaaye gaa",
            "Assie nhi nha weak hogya h ❤️"
        ];

        envelope.addEventListener('click', () => {
            envelope.style.transform = 'scale(0)';
            setTimeout(() => {
                envelope.style.display = 'none';
                envelopeContent.style.display = 'block';
            }, 500);
        });

        function createFlowerSVG(size) {
            const svgNS = "http://www.w3.org/2000/svg";
            const svg = document.createElementNS(svgNS, "svg");
            svg.setAttribute("viewBox", "0 0 100 100");
            svg.setAttribute("width", size);
            svg.setAttribute("height", size);

            const flower = document.createElementNS(svgNS, "g");

            const petalCount = Math.floor(Math.random() * 3) + 5; // 5 to 7 petals
            const color = getRandomPinkishColor();

            for (let i = 0; i < petalCount; i++) {
                const petal = document.createElementNS(svgNS, "ellipse");
                petal.setAttribute("cx", "50");
                petal.setAttribute("cy", "50");
                petal.setAttribute("rx", "20");
                petal.setAttribute("ry", "35");
                petal.setAttribute("fill", color);
                petal.setAttribute("transform", `rotate(${i * (360 / petalCount)} 50 50)`);
                flower.appendChild(petal);
            }

            const center = document.createElementNS(svgNS, "circle");
            center.setAttribute("cx", "50");
            center.setAttribute("cy", "50");
            center.setAttribute("r", "15");
            center.setAttribute("fill", getRandomPinkishColor());
            flower.appendChild(center);

            svg.appendChild(flower);
            return svg;
        }

        function getRandomPinkishColor() {
            const hue = Math.floor(Math.random() * 60) + 300; // 300-360 for pinks and reds
            const saturation = Math.floor(Math.random() * 40) + 60; // 60-100%
            const lightness = Math.floor(Math.random() * 30) + 40; // 40-70%
            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
        }

        function createFlower() {
            const size = Math.random() * 50 + 30; // Random size between 30 and 80
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = Math.random() * (window.innerWidth - size) + 'px';
            flower.style.top = Math.random() * (window.innerHeight - size) + 'px';
            
            const dx = (Math.random() - 0.5) * 8; // Increased speed
            const dy = (Math.random() - 0.5) * 8; // Increased speed
            
            flower.appendChild(createFlowerSVG(size));
            
            flower.addEventListener('click', () => {
                if (gameInProgress) {
                    popFlower(flower);
                }
            });
            
            gameContainer.appendChild(flower);
            return { element: flower, dx, dy };
        }

        function popFlower(flower) {
            if (messagesLeft > 0) {
                showMessage(messages[messages.length - messagesLeft]);
                messagesLeft--;
                messagesLeftDisplay.textContent = messagesLeft;
                
                flower.style.transition = 'all 0.5s ease';
                flower.style.transform = 'scale(0)';
                
                setTimeout(() => {
                    if (flower.parentNode) {
                        flower.parentNode.removeChild(flower);
                        flowers = flowers.filter(f => f.element !== flower);
                    }
                    
                    if (messagesLeft === 0) {
                        setTimeout(formHeartShape, 1000);
                    }
                }, 500);
            }
        }

        function showMessage(message) {
            messagePopup.textContent = message;
            messagePopup.style.display = 'block';
            setTimeout(() => {
                messagePopup.style.display = 'none';
            }, 1500);
        }

        function moveFlowers() {
            flowers.forEach(flower => {
                const rect = flower.element.getBoundingClientRect();
                
                if (rect.left + flower.dx < 0 || rect.right + flower.dx > window.innerWidth) {
                    flower.dx = -flower.dx;
                }
                if (rect.top + flower.dy < 0 || rect.bottom + flower.dy > window.innerHeight) {
                    flower.dy = -flower.dy;
                }
                
                flower.element.style.left = rect.left + flower.dx + 'px';
                flower.element.style.top = rect.top + flower.dy + 'px';
            });
            
            if (gameInProgress) {
                requestAnimationFrame(moveFlowers);
            }
        }

        function formHeartShape() {
            gameInProgress = false;
            messagePopup.style.display = 'none';
            heartContainer.style.display = 'block';
            
            const heartPath = [
                [0,-4],[-1,-3],[-2,-2],[-3,-1],[-3,0],[-2,1],[-1,2],[0,3],[1,2],[2,1],[3,0],[3,-1],[2,-2],[1,-3]
            ];
            const scale = 35; // Adjust this value to change the size of the heart

            flowers.forEach((flower, index) => {
                const [x, y] = heartPath[index % heartPath.length];
                const newFlower = flower.element.cloneNode(true);
                newFlower.classList.add('heart-flower');
                newFlower.style.left = `${150 + x * scale}px`;
                newFlower.style.top = `${150 + y * scale}px`;
                newFlower.style.transform = 'scale(0.5)'; // Make flowers smaller to fit in the heart shape
                heartContainer.appendChild(newFlower);
                
                if (flower.element.parentNode) {
                    flower.element.parentNode.removeChild(flower.element);
                }
            });

            // Add small decorative hearts
            for (let i = 0; i < 10; i++) {
                const miniHeart = document.createElement('div');
                miniHeart.innerHTML = '❤️';
                miniHeart.style.position = 'absolute';
                miniHeart.style.left = `${Math.random() * 300}px`;
                miniHeart.style.top = `${Math.random() * 300}px`;
                miniHeart.style.fontSize = `${Math.random() * 10 + 10}px`;
                miniHeart.style.opacity = '0.7';
                heartContainer.appendChild(miniHeart);
            }

            setTimeout(() => {
                finalMessage.innerHTML = `<div>For my Sanju</div>`;
                finalMessage.style.display = 'block';
                
                setTimeout(() => {
                    heartContainer.style.transition = 'all 1s ease';
                    heartContainer.style.transform = 'translate(-50%, -50%) scale(0.8)';
                    finalMessage.style.fontSize = '48px';
                }, 1000);

                setTimeout(returnToEnvelope, 5000);
            }, 2000);
        }

        function returnToEnvelope() {
            gameContainer.style.display = 'none';
            finalMessage.style.display = 'none';
            heartContainer.style.display = 'none';
            envelope.style.display = 'flex';
            envelope.style.transform = 'scale(1)';
        }

        function startGame() {
            gameInProgress = true;
            messagesLeft = 16;
            flowers = [];
            gameContainer.innerHTML = '';
            envelopeContent.style.display = 'none';
            gameContainer.style.display = 'block';
            finalMessage.style.display = 'none';
            heartContainer.innerHTML = '';
            messagesLeftDisplay.textContent = messagesLeft;

            for (let i = 0; i < 18; i++) {
                flowers.push(createFlower());
            }

            moveFlowers();
        }

        startGameButton.addEventListener('click', startGame);
    </script>
</body>
</html>
